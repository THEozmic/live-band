webpackJsonp([1],{NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("7+uW"),o={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"container",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=t("VU/8")({name:"App"},o,!1,function(n){t("nQMc")},null,null).exports,a=t("/ocq"),r={name:"HelloWorld",data:function(){return{sounds:[{key:"A",code:65,playing:!1,name:"clap",file:"./static/sounds/clap.wav"},{key:"S",code:83,playing:!1,name:"hihat",file:"./static/sounds/hihat.wav"},{key:"D",code:68,playing:!1,name:"kick",file:"./static/sounds/kick.wav"},{key:"F",code:70,playing:!1,name:"openhat",file:"./static/sounds/openhat.wav"},{key:"G",code:71,playing:!1,name:"boom",file:"./static/sounds/boom.wav"},{key:"H",code:72,playing:!1,name:"ride",file:"./static/sounds/ride.wav"},{key:"J",code:74,playing:!1,name:"snare",file:"./static/sounds/snare.wav"},{key:"K",code:75,playing:!1,name:"tom",file:"./static/sounds/tom.wav"},{key:"L",code:76,playing:!1,name:"tink",file:"./static/sounds/tink.wav"}]}},methods:{playSound:function(n,e){if(n){var t=e?e.code:n.keyCode,s=(this.$refs[t]||[])[0];this.$refs.drum.querySelector('div[data-key="'+t+'"]');if(!s)return;(e=e||this.sounds.find(function(n){return n.code==t}))&&(e.playing=!0),s.currentTime=0,s.play(),this.$parent&&this.$parent.$emit("key:play",e)}},playSoundWithoutEvent:function(n){var e=(this.$refs[n]||[])[0];if(e){var t=this.sounds.find(function(e){return e.code==n});t&&(t.playing=!0),e.currentTime=0,e.play()}},removeTransition:function(n,e){"transform"===n.propertyName&&(e.playing=!1)}},mounted:function(){var n=this;document.addEventListener("keydown",this.playSound.bind(this)),this.$parent&&this.$parent.$on("ws:key:play",function(e){n.playSoundWithoutEvent(e)})}},c={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{ref:"drum",staticClass:"keys"},[n._l(n.sounds,function(e){return t("div",{key:"sound"+e.key,staticClass:"key",class:{playing:e.playing},attrs:{"data-key":e.code},on:{mousedown:function(t){n.playSound(t,e)},transitionend:function(t){n.removeTransition(t,e)}}},[t("kbd",[n._v(n._s(e.key))]),n._v(" "),t("span",{staticClass:"sound"},[n._v(n._s(e.name))])])}),n._v(" "),n._l(n.sounds,function(n){return t("audio",{key:n.key,ref:n.code,refInFor:!0,attrs:{src:n.file}})})],2)},staticRenderFns:[]};var u=t("VU/8")(r,c,!1,function(n){t("UdGh")},"data-v-593c7423",null).exports,d=t("mvHQ"),l=t.n(d),p=t("pFYg"),f=t.n(p),y={props:{},computed:{},data:function(){return{ws:null}},components:{},methods:{connect:function(){var n=this;return this.ws=new WebSocket("wss://live-band-server-vanisdbxzb.now.sh"),this.ws.onerror=function(n){return console.error("ws:"+ws.key,n)},this.ws.onopen=function(){console.log("WebSocket connection opened")},this.ws.onclose=function(){console.error("WebSocket connection closed"),setTimeout(n.connect,2e3)},this.ws.onmessage=function(e){Number(e.data)&&n.$emit("ws:key:play",Number(e.data))},this.ws},send:function(n){this.ws&&this.ws.readyState==WebSocket.OPEN?"object"==(void 0===n?"undefined":f()(n))?this.ws.send(l()(n)):this.ws.send(n):console.error("ws:send","could not send message",n)}},mounted:function(){var n=this;this.connect(),this.$on("key:play",function(e){n.send(e.code)})}},m={render:function(){var n=this.$createElement;return(this._self._c||n)("div",[this._t("default")],2)},staticRenderFns:[]};var h={components:{WsRelay:t("VU/8")(y,m,!1,function(n){t("ZPVQ")},null,null).exports,DrumKit:u},data:function(){return{}}},v={render:function(){var n=this.$createElement,e=this._self._c||n;return e("WsRelay",[e("DrumKit")],1)},staticRenderFns:[]};var k=t("VU/8")(h,v,!1,function(n){t("Tl/p")},null,null).exports;s.a.use(a.a);var w=new a.a({routes:[{path:"/",name:"home",component:k}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:w,components:{App:i},template:"<App/>"})},"Tl/p":function(n,e){},UdGh:function(n,e){},ZPVQ:function(n,e){},nQMc:function(n,e){}},["NHnr"]);
//# sourceMappingURL=app.063cbbf89e778d0119c5.js.map